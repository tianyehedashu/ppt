<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>HTML Fragment é«˜çº§æ¼”ç¤º</title>
    <style>
        .fragment-demo {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .step-container {
            margin: 30px 0;
            padding: 20px;
            border-radius: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .code-evolution {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #007bff;
        }
        
        .code-evolution h4 {
            color: #333;
            margin: 0 0 15px 0;
        }
        
        .code-evolution pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 0;
        }
        
        .timeline {
            position: relative;
            padding: 20px 0;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #667eea;
            transform: translateX(-50%);
        }
        
        .timeline-item {
            position: relative;
            margin: 30px 0;
            padding: 0 30px;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 20px;
            width: 12px;
            height: 12px;
            background: #667eea;
            border-radius: 50%;
            transform: translateX(-50%);
        }
        
        .timeline-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            width: 45%;
        }
        
        .timeline-item:nth-child(odd) .timeline-content {
            margin-left: 0;
        }
        
        .timeline-item:nth-child(even) .timeline-content {
            margin-left: 55%;
        }
        
        .feature-showcase {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .feature-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
        }
        
        .interactive-chart {
            background: linear-gradient(45deg, #1a202c, #2d3748);
            border-radius: 10px;
            padding: 30px;
            margin: 20px 0;
            color: white;
        }
        
        .chart-bar {
            display: flex;
            align-items: center;
            margin: 15px 0;
        }
        
        .chart-label {
            width: 100px;
            font-weight: 500;
        }
        
        .chart-progress {
            flex: 1;
            height: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            margin: 0 15px;
            position: relative;
            overflow: hidden;
        }
        
        .chart-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 1s ease;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
        }
        
        .chart-value {
            font-weight: bold;
            color: #4facfe;
        }
    </style>
</head>
<body>
    <div class="fragment-demo">
        <div class="step-container fragment">
            <h1>ğŸš€ HTML Fragment é«˜çº§æ¼”ç¤º</h1>
            <p>ç»“åˆJavaScriptå®ç°å¤æ‚çš„åˆ†æ­¥å±•ç¤ºæ•ˆæœ</p>
        </div>
        
        <div class="fragment">
            <h2>ğŸ“ˆ é¡¹ç›®å¼€å‘æ—¶é—´çº¿</h2>
            <div class="timeline">
                <div class="timeline-item fragment" data-fragment-index="1">
                    <div class="timeline-content">
                        <h3>ğŸ¯ éœ€æ±‚åˆ†æ</h3>
                        <p>æ˜ç¡®é¡¹ç›®ç›®æ ‡å’ŒæŠ€æœ¯è¦æ±‚</p>
                        <small>ç¬¬1å‘¨</small>
                    </div>
                </div>
                
                <div class="timeline-item fragment" data-fragment-index="2">
                    <div class="timeline-content">
                        <h3>ğŸ—ï¸ æ¶æ„è®¾è®¡</h3>
                        <p>è®¾è®¡ç³»ç»Ÿæ¶æ„å’ŒæŠ€æœ¯é€‰å‹</p>
                        <small>ç¬¬2-3å‘¨</small>
                    </div>
                </div>
                
                <div class="timeline-item fragment" data-fragment-index="3">
                    <div class="timeline-content">
                        <h3>ğŸ’» å¼€å‘å®ç°</h3>
                        <p>æ ¸å¿ƒåŠŸèƒ½å¼€å‘å’Œæ¨¡å—é›†æˆ</p>
                        <small>ç¬¬4-8å‘¨</small>
                    </div>
                </div>
                
                <div class="timeline-item fragment" data-fragment-index="4">
                    <div class="timeline-content">
                        <h3>ğŸ§ª æµ‹è¯•éƒ¨ç½²</h3>
                        <p>åŠŸèƒ½æµ‹è¯•ã€æ€§èƒ½ä¼˜åŒ–å’Œä¸Šçº¿éƒ¨ç½²</p>
                        <small>ç¬¬9-10å‘¨</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="fragment">
            <h2>ğŸ’¡ æ ¸å¿ƒç‰¹æ€§å±•ç¤º</h2>
            <div class="feature-showcase">
                <div class="feature-card fragment">
                    <span class="feature-icon">âš¡</span>
                    <h3>é«˜æ€§èƒ½</h3>
                    <p>ä¼˜åŒ–ç®—æ³•å’Œç¼“å­˜ç­–ç•¥</p>
                </div>
                
                <div class="feature-card fragment">
                    <span class="feature-icon">ğŸ”’</span>
                    <h3>å®‰å…¨å¯é </h3>
                    <p>å¤šå±‚å®‰å…¨é˜²æŠ¤æœºåˆ¶</p>
                </div>
                
                <div class="feature-card fragment">
                    <span class="feature-icon">ğŸ“±</span>
                    <h3>å“åº”å¼</h3>
                    <p>é€‚é…å¤šç§è®¾å¤‡å±å¹•</p>
                </div>
                
                <div class="feature-card fragment">
                    <span class="feature-icon">ğŸŒ</span>
                    <h3>å›½é™…åŒ–</h3>
                    <p>æ”¯æŒå¤šè¯­è¨€å’Œåœ°åŒº</p>
                </div>
            </div>
        </div>
        
        <div class="fragment">
            <h2>ğŸ“Š æ€§èƒ½æŒ‡æ ‡</h2>
            <div class="interactive-chart">
                <div class="chart-bar">
                    <div class="chart-label">å“åº”é€Ÿåº¦</div>
                    <div class="chart-progress">
                        <div class="chart-fill fragment" style="width: 0%" data-final-width="92%"></div>
                    </div>
                    <div class="chart-value">92%</div>
                </div>
                
                <div class="chart-bar">
                    <div class="chart-label">ç”¨æˆ·æ»¡æ„åº¦</div>
                    <div class="chart-progress">
                        <div class="chart-fill fragment" style="width: 0%" data-final-width="88%"></div>
                    </div>
                    <div class="chart-value">88%</div>
                </div>
                
                <div class="chart-bar">
                    <div class="chart-label">ç³»ç»Ÿç¨³å®šæ€§</div>
                    <div class="chart-progress">
                        <div class="chart-fill fragment" style="width: 0%" data-final-width="95%"></div>
                    </div>
                    <div class="chart-value">95%</div>
                </div>
                
                <div class="chart-bar">
                    <div class="chart-label">ä»£ç è´¨é‡</div>
                    <div class="chart-progress">
                        <div class="chart-fill fragment" style="width: 0%" data-final-width="87%"></div>
                    </div>
                    <div class="chart-value">87%</div>
                </div>
            </div>
        </div>
        
        <div class="fragment">
            <h2>ğŸ”„ ä»£ç æ¼”è¿›è¿‡ç¨‹</h2>
            
            <div class="code-evolution fragment">
                <h4>æ­¥éª¤ 1: åŸºç¡€å®ç°</h4>
                <pre><code>function processData(data) {
    return data.map(item => item.value);
}</code></pre>
            </div>
            
            <div class="code-evolution fragment">
                <h4>æ­¥éª¤ 2: æ·»åŠ éªŒè¯</h4>
                <pre><code>function processData(data) {
    if (!Array.isArray(data)) {
        throw new Error('Data must be an array');
    }
    return data.map(item => item.value);
}</code></pre>
            </div>
            
            <div class="code-evolution fragment">
                <h4>æ­¥éª¤ 3: é”™è¯¯å¤„ç†ä¼˜åŒ–</h4>
                <pre><code>function processData(data) {
    if (!Array.isArray(data)) {
        throw new Error('Data must be an array');
    }
    return data
        .filter(item => item && typeof item.value !== 'undefined')
        .map(item => item.value);
}</code></pre>
            </div>
            
            <div class="code-evolution fragment">
                <h4>æ­¥éª¤ 4: æ€§èƒ½ä¼˜åŒ–</h4>
                <pre><code>function processData(data) {
    if (!Array.isArray(data)) {
        throw new Error('Data must be an array');
    }
    
    const result = [];
    for (let i = 0; i < data.length; i++) {
        const item = data[i];
        if (item && typeof item.value !== 'undefined') {
            result.push(item.value);
        }
    }
    return result;
}</code></pre>
            </div>
        </div>
    </div>

    <script>
        // ç›‘å¬Reveal.js fragmentäº‹ä»¶ï¼Œå®ç°è‡ªå®šä¹‰åŠ¨ç”»
        document.addEventListener('DOMContentLoaded', function() {
            // ç­‰å¾…Reveal.jsåŠ è½½å®Œæˆ
            setTimeout(() => {
                if (window.Reveal) {
                    Reveal.on('fragmentshown', function(event) {
                        // å¤„ç†å›¾è¡¨åŠ¨ç”»
                        if (event.fragment.classList.contains('chart-fill')) {
                            const finalWidth = event.fragment.getAttribute('data-final-width');
                            if (finalWidth) {
                                setTimeout(() => {
                                    event.fragment.style.width = finalWidth;
                                }, 100);
                            }
                        }
                    });
                    
                    Reveal.on('fragmenthidden', function(event) {
                        // å¤„ç†å›¾è¡¨éšè—
                        if (event.fragment.classList.contains('chart-fill')) {
                            event.fragment.style.width = '0%';
                        }
                    });
                }
            }, 500);
        });
        
        // ä¸ºfeature cardsæ·»åŠ é¢å¤–çš„äº¤äº’æ•ˆæœ
        document.querySelectorAll('.feature-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.boxShadow = '0 8px 25px rgba(0,0,0,0.15)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.boxShadow = '0 4px 6px rgba(0,0,0,0.1)';
            });
        });
    </script>
</body>
</html>
